@page "/list/{ListId:int}"

<PageTitle>Task Display</PageTitle>

<MudText Align="Align.Center">
    <h1>Task Display</h1>
</MudText>

<MudGrid Justify="Justify.Center">
    <MudItem sm="8">
        @if (CurrentList == null)
        {
            <p>Loading...</p>
        }
        else
        {
            <MudText Typo="Typo.h6" GutterBottom="false" Align="Align.Left" Style="margin-left: 10px; margin-top: 25px"> <b>@CurrentList.Name</b></MudText>
            //... rest of your component
        }
        
            @if (HasTasks)
            {
                <MudStack Spacing="2">
                    @foreach (var task in PendingTasks)
                    {
                        <TaskChunk
                            Task="@task"
                            OnDelete="HandleDeleteTask"
                            OnEdit="HandleEditTask"
                            OnStartEdit="StartEdit"
                            OnCheck="(() => HandleCheckTask(task))">
                        </TaskChunk>                        
                    }
                </MudStack>
            }
            else
            {
                <MudText Align="Align.Center" Typo="Typo.overline" Style="margin-left: 10px">
                    There are no pending tasks
                </MudText>
            }
       
        <MudTextField @bind-Value="NewTask.Description" Label="Enter a new task" Variant="Variant.Outlined" Clearable="true" Style="margin-top: 10px; margin-bottom: 10px"></MudTextField>

        <MudButton OnClick="HandleCreateTask" Variant="Variant.Filled" Color="Color.Success" StartIcon="@Icons.Material.Rounded.AddCircleOutline">Add Task</MudButton>
    </MudItem>
</MudGrid>
